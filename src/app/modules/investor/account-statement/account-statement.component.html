<mat-drawer-container
    (backdropClick)="onBackdropClicked()"
    class="flex-auto h-full bg-card dark:bg-transparent overflow-hidden">
    <!-- Drawer -->
    <mat-drawer
        class="w-full md:w-1/2 dark:bg-gray-900"
        [mode]="drawerMode"
        [opened]="false"
        [position]="'end'"
        [disableClose]="true"
        #matDrawer>
        <router-outlet></router-outlet>
    </mat-drawer>
    <mat-drawer-content class="flex flex-col ">
        <ng-container>
            <div class=" border-t -mt-px pt-4 sm:pt-4 sm:pb-4 px-30 bg-gray-100">
                <div class="w-full max-w-screen-xl mx-auto">
                    <div class="grid grid-cols-4 sm:grid-cols-4 md:grid-cols-4 gap-6 w-full min-w-0">

                        <app-balance-card
                            [amount]="totalTopup"
                            label="Tổng số tiền đã nạp (VNĐ)"
                        ></app-balance-card>
                        <app-balance-card
                            [amount]="totalWithdraw"
                            label="Tổng số tiền đã rút (VNĐ)"
                        ></app-balance-card>
                        <app-balance-card
                            [amount]="accountBalance"
                            label="Số dư khả dụng (VNĐ)"
                        ></app-balance-card>
                        <app-balance-card
                            [amount]="totalAmountInvesting"
                            label="Số tiền đang đầu tư (VNĐ)"
                        ></app-balance-card>
                         <!-- <div class="flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden items-center ql-align-center  mr-5 ">
                            <div class="w-full min-height-70 gradient-tab">
                                <div class="flex flex-col items-center mt-2">
                                    <div class="text-2xl sm:text-2xl font-bold tracking-tight leading-none text-white ">
                                        
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-col items-center my-5">
                                <div class="text-2xl sm:text-2xl font-bold tracking-tight leading-none text-monney text-center">
                                    {{ totalTopup | currency : 'VND' : '' }}
                                    <p class="p-1">VND</p>
                                </div>
                            </div>
                        </div> -->
                       <!-- <div class="flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden items-center ql-align-center  ml-5">
                            <div class="w-full min-height-70 gradient-tab">
                                <div class="flex flex-col items-center mt-2">
                                    <div class="text-2xl sm:text-2xl font-bold tracking-tight leading-none text-white ">
                                        Tổng số tiền đã rút
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-col items-center my-5">
                                <div class="text-2xl sm:text-2xl font-bold tracking-tight leading-none text-monney text-center">
                                    {{ totalWithdraw | currency : 'VND' : '' }}
                                    <p class="p-1">VND</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden items-center ql-align-center  ml-5">
                            <div class="w-full min-height-70 gradient-tab">
                                <div class="flex flex-col items-center mt-2">
                                    <div class="text-2xl sm:text-2xl font-bold tracking-tight leading-none text-white ">
                                        Số dư khả dụng
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-col items-center my-5">
                                <div class="text-2xl sm:text-2xl font-bold tracking-tight leading-none text-monney text-center">
                                    {{ accountBalance | currency : 'VND' : '' }}
                                    <p class="p-1">VND</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden items-center ql-align-center  ml-5">
                            <div class="w-full min-height-70 gradient-tab">
                                <div class="flex flex-col items-center mt-2">
                                    <div class="text-2xl sm:text-2xl font-bold tracking-tight leading-none text-white ">
                                        Số tiền đang đầu tư
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-col items-center my-5">
                                <div class="text-2xl sm:text-2xl font-bold tracking-tight leading-none text-monney text-center">
                                    {{ totalAmountInvesting | currency : 'VND' : '' }}
                                    <p class="p-1">VND</p>
                                </div>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>
        </ng-container>

        <mat-tab-group (selectedTabChange)="onTabChanged($event);">
            <mat-tab label="Tài khoản gốc">
                <div class="w-full" [ngStyle]="{'height': 'calc(100vh - 150px)'}">
                    <app-datatable
                        [containerStyle]="{width: '100%'}"
                        [fullHeight]="false"
                        [tableConfigBtns]="_tableBtnConfig"
                        [tableConfig]="_tableLoanConfig"
                        [taskbarConfig]="_taskbarConfig"
                        [dataSource]="_dataSource$"
                        (handleSearch)="handleSearch($event)"
                        (tableEvent)="handleTableEvent($event)"
                        (rowClick)="handleRowClick($event)"
                        (pageSwitch)="handlePageSwitch($event)"
                    >
                    </app-datatable>
                </div>
            </mat-tab>
            <mat-tab label="Tài khoản đầu tư tự động">
                <div class="w-full" [ngStyle]="{'height': 'calc(100vh - 150px)'}">
                    <app-datatable
                        [containerStyle]="{width: '100%'}"
                        [fullHeight]="false"
                        [tableConfigBtns]="_tableBtnConfig"
                        [tableConfig]="_tableLoanConfig"
                        [taskbarConfig]="_taskbarConfig"
                        [dataSource]="_dataSource$"
                        (handleSearch)="handleSearch($event)"
                        (tableEvent)="handleTableEvent($event)"
                        (rowClick)="handleRowClick($event)"
                        (pageSwitch)="handlePageSwitch($event)"
                    >
                    </app-datatable>
                </div>
            </mat-tab>
        </mat-tab-group>
    </mat-drawer-content>
</mat-drawer-container>
